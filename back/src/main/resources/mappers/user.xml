<?xml version="1.0" encoding="UTF-8" ?> <!-- 관통용  -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssafy.pathpartner.user.repository.userDao">

  <!--resultMap type="userDto" id="user">
    <result column="uuid" property="uid"/>
    <result column="id" property="userId"/>
    <result column="nickname" property="userName"/>
    <result column="password" property="userPass"/>
    <result column="join_date" property="joinDate"/>
    <result column="user_type" property="userType"/>
    <result column="profile_img" property="profileImg"/>
    <result column="email" property="email"/>
  </resultMap-->

  <insert id="createUser" parameterType="userDto">
    insert into user (uuid,id, nickname, password, user_type,join_date,email)
    values (UUID(),#{id}, #{nickname}, #{password}, #{userType},now(),#{email})
  </insert>

  <select id="selectUserById" parameterType="String" resultType="userDto">
    select uuid, id, nickname, password, join_date, user_type,email
    from user
    where id = #{id}
  </select>

  <update id="updateUser" parameterType="userDto">
    update user
    set password=#{password},
        nickname=#{nickname}
    where uuid = #{uuid}
  </update>

  <delete id="deleteUser" parameterType="int">
    delete
    from user
    where uuid = #{uuid}
  </delete>

  <select id="selectUserByIdAndName" parameterType="userDto" resultType="userDto">
    select uuid, id, nickname, password, join_date, user_type,email
    from user
    where id = #{id}
      and nickname = #{nickname}
  </select>

  <update id="updateUserPassword" parameterType="userDto">
    update user
    set password = #{password}
    where uuid = #{uuid}
  </update>


</mapper>